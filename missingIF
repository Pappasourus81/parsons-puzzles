<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fill in the missing code — Conditionals</title>
<style>
  :root{
    --bg:#f6f8fb;
    --card:#ffffff;
    --accent:#0b61d6;
    --muted:#6b7280;
    --success:#16a34a;
    --danger:#ef4444;
    --focus:#ffb703;
    --bank-bg:#eef6ff;
    --gap:12px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;}
  body{
    margin:16px;
    background:linear-gradient(180deg,var(--bg),#eef3fb 60%);
    color:#111827;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  .container{
    max-width:980px;
    margin:0 auto;
    padding:20px;
  }
  header{
    display:flex;
    align-items:center;
    gap:16px;
    margin-bottom:18px;
  }
  h1{
    font-size:20px;
    margin:0;
  }
  .meta{
    color:var(--muted);
    font-size:13px;
  }

  .puzzle-card{
    background:var(--card);
    border-radius:10px;
    box-shadow:0 6px 20px rgba(15,23,42,0.06);
    padding:18px;
    margin-bottom:18px;
    border:1px solid rgba(15,23,42,0.04);
  }

  .desc{
    background:linear-gradient(90deg,#fff,#fbfdff);
    padding:12px;
    border-radius:8px;
    border:1px dashed rgba(11,97,214,0.08);
    margin-bottom:12px;
  }
  .desc p{margin:6px 0;color:#0f172a;font-size:14px}
  .example{color:var(--muted);font-size:13px;margin-top:6px}

  .code-wrap{
    background:#0f172a;
    color:#e6eef8;
    border-radius:8px;
    padding:12px;
    font-family: "Courier New", Courier, monospace;
    font-size:14px;
    overflow:auto;
    line-height:1.6;
  }
  .code-line{
    white-space:pre;
  }
  .blank {
    display:inline-block;
    min-width:48px;
    padding:2px 6px;
    margin:0 2px;
    border-radius:6px;
    background:rgba(255,255,255,0.07);
    color:#fff;
    border:2px dashed rgba(255,255,255,0.08);
    outline: none;
    cursor:pointer;
    vertical-align:baseline;
  }
  .blank:focus { box-shadow:0 0 0 3px rgba(255,183,3,0.14); border-color:var(--focus);}
  .blank.empty{ color:#cbd5e1; font-style:italic;}
  .blank.correct { background:rgba(22,163,74,0.18); border-color:rgba(22,163,74,0.5); color:var(--success); }
  .blank.incorrect { background:rgba(239,68,68,0.12); border-color:rgba(239,68,68,0.3); color:var(--danger); }

  .bank{
    margin-top:12px;
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    background:var(--bank-bg);
    padding:10px;
    border-radius:8px;
    border:1px solid rgba(11,97,214,0.06);
  }
  .token{
    user-select:none;
    padding:8px 10px;
    border-radius:8px;
    background:#fff;
    border:1px solid rgba(2,6,23,0.06);
    box-shadow:0 2px 6px rgba(2,6,23,0.04);
    font-weight:600;
    font-size:13px;
    cursor:grab;
  }
  .token:active{ cursor:grabbing }
  .token[aria-pressed="true"]{ outline:3px solid rgba(11,97,214,0.14); box-shadow:0 6px 18px rgba(11,97,214,0.08); }
  .token:focus { box-shadow:0 0 0 3px rgba(11,97,214,0.10); outline:none; }

  .controls{
    display:flex;
    gap:10px;
    margin-top:12px;
    align-items:center;
    flex-wrap:wrap;
  }
  button{
    padding:9px 14px;
    border-radius:8px;
    border:0;
    font-weight:600;
    background:var(--accent);
    color:white;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(11,97,214,0.10);
  }
  button.secondary{
    background:#fff; color:var(--accent); border:1px solid rgba(11,97,214,0.10);
    box-shadow:none;
  }
  button.ghost{
    background:transparent; color:var(--muted); border:1px dashed rgba(2,6,23,0.06);
  }
  .msg{ margin-left:8px; color:var(--muted); font-weight:600; }

  @media (max-width:640px){
    .container{ padding:12px; }
    header{ gap:8px; }
    .code-wrap{ font-size:13px; }
    .token{ font-size:12px; padding:7px 9px; }
    button{ padding:8px 10px; font-size:14px; }
  }

  :focus { outline: none; }
  .a11y-focus { box-shadow:0 0 0 3px rgba(255,183,3,0.14); border-radius:6px; }

  .help{ color:var(--muted); font-size:13px; margin-top:10px;}
</style>
</head>
<body>
<div class="container" id="app">
  <header>
    <div>
      <h1>Fill in the missing code — Conditionals</h1>
      <div class="meta">Drag or click tokens into blanks. Press Enter to place when using keyboard.</div>
    </div>
  </header>

  <main>
    <section class="puzzle-card" id="puzzleCard" aria-live="polite">
      <div class="desc" id="descBox" role="region" aria-label="Puzzle description"></div>

      <div class="code-wrap" id="codeWrap" role="region" aria-label="Pseudocode area"></div>

      <div class="bank" id="bank" aria-label="Word bank" role="listbox" tabindex="0"></div>

      <div class="controls" style="justify-content:flex-start;">
        <button id="submitBtn">Submit</button>
        <button class="secondary" id="resetBtn">Reset (reshuffle)</button>
        <button class="ghost" id="nextBtn">Next Puzzle →</button>
        <div class="msg" id="feedback" aria-live="assertive"></div>
      </div>

      <div class="help">Keyboard: Tab to a token, press Enter to pick; Tab to a blank, press Enter to place. Use Escape to clear selection.</div>
    </section>

    <p style="color:var(--muted);font-size:13px;margin-top:8px">
      The puzzles are easy to edit in the source: see the <code>puzzles</code> array at the end of the JS.
    </p>
  </main>
</div>

<!-- JavaScript section unchanged -->
<script>
// (JavaScript content from previous version remains identical)
</script>
</body>
</html>
